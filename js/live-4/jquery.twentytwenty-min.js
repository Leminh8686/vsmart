!function(t){t.fn.twentytwenty=function(e){e=t.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},e);return this.each(function(){var n=e.default_offset_pct,i=t(this),a=e.orientation,o="vertical"===a?"down":"left",s="vertical"===a?"up":"right";if(i.wrap("<div class='twentytwenty-wrapper twentytwenty-"+a+"'></div>"),!e.no_overlay){i.append("<div class='twentytwenty-overlay'></div>");var l=i.find(".twentytwenty-overlay");l.append("<div class='twentytwenty-before-label' data-content='"+e.before_label+"'></div>"),l.append("<div class='twentytwenty-after-label' data-content='"+e.after_label+"'></div>")}var c=i.find("img:first"),r=i.find("img:last");i.append("<div class='twentytwenty-handle'></div>");var w=i.find(".twentytwenty-handle");w.append("<span class='twentytwenty-"+o+"-arrow'></span>"),w.append("<span class='twentytwenty-"+s+"-arrow'></span>"),i.addClass("twentytwenty-container"),c.addClass("twentytwenty-before"),r.addClass("twentytwenty-after");var d=function(e){var n,o,s,l=(n=e,o=c.width(),s=c.height(),{w:o+"px",h:s+"px",cw:n*o+"px",ch:n*s+"px"});w.css("vertical"===a?"top":"left","vertical"===a?l.ch:l.cw),function(e){"vertical"===a?(c.css("clip","rect(0,"+e.w+","+e.ch+",0)"),t(".twentytwenty-before-label, .resolution-normal").css("clip","rect(0,"+e.w+","+e.ch+",0)"),r.css("clip","rect("+e.ch+","+e.w+","+e.h+",0)"),t(".twentytwenty-after-label, .resolution-live4").css("clip","rect("+e.ch+","+e.w+","+e.h+",0)")):(c.css("clip","rect(0,"+e.cw+","+e.h+",0)"),t(".twentytwenty-before-label, .resolution-normal").css("clip","rect(0,"+e.cw+","+e.h+",0)"),r.css("clip","rect(0,"+e.w+","+e.h+","+e.cw+")"),t(".twentytwenty-after-label, .resolution-live4").css("clip","rect(0,"+e.w+","+e.h+","+e.cw+")")),i.css("height",e.h)}(l)},f=function(t,e){var n,i,o;return n="vertical"===a?(e-y)/h:(t-v)/p,i=0,o=1,Math.max(i,Math.min(o,n))};t(window).on("resize.twentytwenty",function(t){d(n)});var v=0,y=0,p=0,h=0,u=function(t){(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==a?t.preventDefault():(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===a&&t.preventDefault(),i.addClass("active"),v=i.offset().left,y=i.offset().top,p=c.width(),h=c.height()},_=function(t){i.hasClass("active")&&(n=f(t.pageX,t.pageY),d(n))},m=function(){i.removeClass("active")},b=e.move_with_handle_only?w:i;b.on("movestart",u),b.on("move",_),b.on("moveend",m),e.move_slider_on_hover&&(i.on("mouseenter",u),i.on("mousemove",_),i.on("mouseleave",m)),w.on("touchmove",function(t){t.preventDefault()}),i.find("img").on("mousedown",function(t){t.preventDefault()}),e.click_to_move&&i.on("click",function(t){v=i.offset().left,y=i.offset().top,p=c.width(),h=c.height(),n=f(t.pageX,t.pageY),d(n)}),t(window).trigger("resize.twentytwenty")})}}(jQuery);